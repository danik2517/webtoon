<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°—Ç–∞—Ä—Ç–∞–ø –ø–∞–Ω–æ—Ä–∞–º–∞ - –¢–æ–ª—å–∫–æ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
        
        body, html {
            height: 100%;
            overflow: hidden;
            background-color: #000;
            font-family: 'Segoe UI', sans-serif;
        }
        
        .desktop-message {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #111;
            color: #fff;
            z-index: 1000;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 20px;
        }
        
        .desktop-message h1 {
            font-size: 28px;
            margin-bottom: 20px;
            color: #4a90e2;
        }
        
        .desktop-message p {
            font-size: 18px;
            margin-bottom: 30px;
            max-width: 600px;
            line-height: 1.6;
        }
        
        .mobile-icon {
            font-size: 60px;
            margin-bottom: 20px;
        }
        
        .container {
            position: relative;
            width: 100%;
            height: 100vh;
            overflow: hidden;
        }
        
        .panorama-container {
            width: 100%;
            height: 100%;
            overflow-x: auto;
            overflow-y: hidden;
            cursor: grab;
            scrollbar-width: none; /* Firefox */
            -ms-overflow-style: none; /* IE –∏ Edge */
            -webkit-overflow-scrolling: touch; /* –ü–ª–∞–≤–Ω—ã–π —Å–∫—Ä–æ–ª–ª –Ω–∞ iOS */
        }
        
        /* –°–∫—Ä—ã—Ç–∏–µ —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞ –¥–ª—è Chrome, Safari –∏ Opera */
        .panorama-container::-webkit-scrollbar {
            display: none;
        }
        
        .panorama-image {
            width: auto;
            height: 100%;
            object-fit: cover;
            pointer-events: none;
        }
        
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #000;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 100;
            transition: opacity 0.5s ease;
        }
        
        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 5px solid rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            border-top-color: #4a90e2;
            animation: spin 1s ease-in-out infinite;
            margin-bottom: 20px;
        }
        
        .loading-text {
            color: #fff;
            font-size: 18px;
        }
        
        .instruction {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            color: rgba(255, 255, 255, 0.7);
            background-color: rgba(0, 0, 0, 0.5);
            padding: 10px 20px;
            border-radius: 20px;
            font-size: 14px;
            z-index: 10;
            transition: opacity 3s ease;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* –ú–µ–¥–∏–∞-–∑–∞–ø—Ä–æ—Å –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ */
        @media (min-width: 768px) {
            .desktop-message {
                display: flex;
            }
            
            .container, .loading-overlay, .instruction {
                display: none !important;
            }
        }
        
        @media (max-width: 767px) {
            .instruction {
                font-size: 12px;
                bottom: 10px;
                padding: 8px 15px;
            }
            
            .desktop-message {
                display: none !important;
            }
        }
    </style>
</head>
<body>
    <div class="desktop-message" id="desktopMessage">
        <div class="mobile-icon">üì±</div>
        <h1>–¢–æ–ª—å–∫–æ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤</h1>
        <p>–≠—Ç–∞ –ø–∞–Ω–æ—Ä–∞–º–Ω–∞—è –≥–∞–ª–µ—Ä–µ—è –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ—Ç–∫—Ä–æ–π—Ç–µ —ç—Ç—É —Å—Ç—Ä–∞–Ω–∏—Ü—É –Ω–∞ —Å–º–∞—Ä—Ç—Ñ–æ–Ω–µ –∏–ª–∏ –ø–ª–∞–Ω—à–µ—Ç–µ.</p>
        <p><small>–†–∞–∑–º–µ—Ä —ç–∫—Ä–∞–Ω–∞ –≤–∞—à–µ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ —Å–ª–∏—à–∫–æ–º –≤–µ–ª–∏–∫ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —ç—Ç–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞.</small></p>
    </div>
    
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
        <div class="loading-text">–ó–∞–≥—Ä—É–∑–∫–∞ –ø–∞–Ω–æ—Ä–∞–º—ã...</div>
    </div>
    
    <div class="container">
        <div class="panorama-container" id="panoramaContainer">
            <img src="–°—Ç–∞—Ä—Ç–∞–ø.png" alt="–°—Ç–∞—Ä—Ç–∞–ø –ø–∞–Ω–æ—Ä–∞–º–∞" class="panorama-image" id="panoramaImage">
        </div>
    </div>
    
    <div class="instruction" id="instruction">
        –ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–π—Ç–µ –ø–∞–ª—å—Ü–µ–º –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –ø–æ –ø–∞–Ω–æ—Ä–∞–º–µ
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const panoramaContainer = document.getElementById('panoramaContainer');
            const panoramaImage = document.getElementById('panoramaImage');
            const loadingOverlay = document.getElementById('loadingOverlay');
            const instruction = document.getElementById('instruction');
            const desktopMessage = document.getElementById('desktopMessage');
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –º–æ–±–∏–ª—å–Ω—ã–º
            function isMobileDevice() {
                return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || window.innerWidth <= 767;
            }
            
            // –ï—Å–ª–∏ —ç—Ç–æ –Ω–µ –º–æ–±–∏–ª—å–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
            if (!isMobileDevice()) {
                desktopMessage.style.display = 'flex';
                return; // –ü—Ä–µ–∫—Ä–∞—â–∞–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞ –¥–ª—è –¥–µ—Å–∫—Ç–æ–ø–æ–≤
            }
            
            // –ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –Ω–∞ 5 —Å–µ–∫—É–Ω–¥, –∑–∞—Ç–µ–º —Å–∫—Ä—ã—Ç—å
            setTimeout(() => {
                instruction.style.opacity = '0';
                setTimeout(() => {
                    instruction.style.display = 'none';
                }, 3000);
            }, 5000);
            
            // –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
            panoramaImage.onload = function() {
                // –°–∫—Ä—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
                setTimeout(() => {
                    loadingOverlay.style.opacity = '0';
                    setTimeout(() => {
                        loadingOverlay.style.display = 'none';
                    }, 500);
                }, 500);
                
                // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
                const originalWidth = 2000;
                const originalHeight = 19200;
                
                // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –≤—ã—Å–æ—Ç—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –æ–∫–Ω–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞
                const viewportWidth = window.innerWidth;
                const aspectRatio = originalHeight / originalWidth;
                const calculatedHeight = viewportWidth * aspectRatio;
                
                // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ä–∞–∑–º–µ—Ä—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
                panoramaImage.style.height = `${calculatedHeight}px`;
                panoramaImage.style.width = `${viewportWidth}px`;
                
                // –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏
                panoramaContainer.scrollTop = (calculatedHeight - window.innerHeight) / 2;
            };
            
            // –ï—Å–ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —É–∂–µ –∑–∞–≥—Ä—É–∂–µ–Ω–æ (–∏–∑ –∫–µ—à–∞)
            if (panoramaImage.complete) {
                panoramaImage.onload();
            }
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è —Å–µ–Ω—Å–æ—Ä–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ (–º–æ–±–∏–ª—å–Ω—ã—Ö)
            let touchStartX, touchStartY;
            let scrollLeft, scrollTop;
            let isScrolling = false;
            
            panoramaContainer.addEventListener('touchstart', (e) => {
                touchStartX = e.touches[0].clientX;
                touchStartY = e.touches[0].clientY;
                scrollLeft = panoramaContainer.scrollLeft;
                scrollTop = panoramaContainer.scrollTop;
                isScrolling = true;
                
                // –û—Ç–º–µ–Ω—è–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞
                e.preventDefault();
            }, { passive: false });
            
            panoramaContainer.addEventListener('touchmove', (e) => {
                if (!isScrolling) return;
                
                const touchX = e.touches[0].clientX;
                const touchY = e.touches[0].clientY;
                
                // –í—ã—á–∏—Å–ª—è–µ–º —Ä–∞–∑–Ω–∏—Ü—É –¥–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ —Å–∫—Ä–æ–ª–ª–∞
                const diffX = (touchStartX - touchX) * 1.2; // –ù–æ—Ä–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å
                const diffY = (touchStartY - touchY) * 1.2;
                
                panoramaContainer.scrollLeft = scrollLeft + diffX;
                panoramaContainer.scrollTop = scrollTop + diffY;
                
                // –û—Ç–º–µ–Ω—è–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞
                e.preventDefault();
            }, { passive: false });
            
            panoramaContainer.addEventListener('touchend', () => {
                isScrolling = false;
            });
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∏–Ω–µ—Ä—Ü–∏–æ–Ω–Ω–æ–≥–æ —Å–∫—Ä–æ–ª–ª–∞ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
            let velocityX = 0;
            let velocityY = 0;
            let lastTouchX, lastTouchY;
            let lastMoveTime = 0;
            
            // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª—è –∏–Ω–µ—Ä—Ü–∏–∏ –ø—Ä–∏ –±—ã—Å—Ç—Ä—ã—Ö —Å–≤–∞–π–ø–∞—Ö
            panoramaContainer.addEventListener('touchmove', (e) => {
                const currentTime = Date.now();
                const touchX = e.touches[0].clientX;
                const touchY = e.touches[0].clientY;
                
                if (lastTouchX !== undefined && lastTouchY !== undefined && lastMoveTime !== 0) {
                    const timeDiff = currentTime - lastMoveTime;
                    if (timeDiff > 0) {
                        velocityX = (lastTouchX - touchX) / timeDiff * 30;
                        velocityY = (lastTouchY - touchY) / timeDiff * 30;
                    }
                }
                
                lastTouchX = touchX;
                lastTouchY = touchY;
                lastMoveTime = currentTime;
            });
            
            panoramaContainer.addEventListener('touchend', () => {
                // –ò–Ω–µ—Ä—Ü–∏–æ–Ω–Ω—ã–π —Å–∫—Ä–æ–ª–ª
                if (Math.abs(velocityX) > 0.1 || Math.abs(velocityY) > 0.1) {
                    const inertiaScroll = () => {
                        panoramaContainer.scrollLeft += velocityX;
                        panoramaContainer.scrollTop += velocityY;
                        
                        // –ó–∞–º–µ–¥–ª–µ–Ω–∏–µ
                        velocityX *= 0.95;
                        velocityY *= 0.95;
                        
                        if (Math.abs(velocityX) > 0.1 || Math.abs(velocityY) > 0.1) {
                            requestAnimationFrame(inertiaScroll);
                        }
                    };
                    
                    requestAnimationFrame(inertiaScroll);
                }
            });
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞
            window.addEventListener('resize', () => {
                if (!isMobileDevice()) {
                    // –ï—Å–ª–∏ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ —ç—Ç–æ —É–∂–µ –Ω–µ –º–æ–±–∏–ª—å–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
                    desktopMessage.style.display = 'flex';
                    document.querySelector('.container').style.display = 'none';
                    return;
                }
                
                const viewportWidth = window.innerWidth;
                const originalWidth = 2000;
                const originalHeight = 19200;
                const aspectRatio = originalHeight / originalWidth;
                const calculatedHeight = viewportWidth * aspectRatio;
                
                panoramaImage.style.height = `${calculatedHeight}px`;
                panoramaImage.style.width = `${viewportWidth}px`;
            });
            
            // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
            document.addEventListener('contextmenu', (e) => {
                if (isMobileDevice()) {
                    e.preventDefault();
                }
            });
            
            // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
            window.addEventListener('load', () => {
                if (!isMobileDevice()) {
                    desktopMessage.style.display = 'flex';
                    document.querySelector('.container').style.display = 'none';
                }
            });
        });
    </script>
</body>
</html>